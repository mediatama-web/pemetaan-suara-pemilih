import{j as r,m as N}from"./app-BDRZJ6nl.js";import{B as u}from"./button-BrAl0nvO.js";import{D as I,a as b,E as U,b as v,c as x}from"./dropdown-menu-DAiG2u_X.js";import{f as k}from"./helper-Bsal8Tex.js";import{A as d,S as C}from"./sweetalert2.esm.all-j4vkjuqq.js";import"./clsx-B-dksMZM.js";import"./createLucideIcon-Cwrl-ZT5.js";import"./index-lSvDMNRS.js";const T=6e4,B=36e5,j=Symbol.for("constructDateFrom");function S(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&j in t?t[j](e):t instanceof Date?new t.constructor(e):new Date(e)}function m(t,e){return S(t,t)}function _(t,e){return+m(t)>+m(e)}function K(t,e){return+m(t)<+m(e)}function M(t,e,n){const a=+m(t),[s,i]=[+m(e.start),+m(e.end)].sort((c,l)=>c-l);return a>=s&&a<=i}function w(t,e){const n=()=>S(e==null?void 0:e.in,NaN),s=E(t);let i;if(s.date){const o=F(s.date,2);i=R(o.restDateString,o.year)}if(!i||isNaN(+i))return n();const c=+i;let l=0,g;if(s.time&&(l=z(s.time),isNaN(l)))return n();if(s.timezone){if(g=O(s.timezone),isNaN(g))return n()}else{const o=new Date(c+l),p=m(0);return p.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),p.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),p}return m(c+l+g)}const h={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},W=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Y=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,A=/^([+-])(\d{2})(?::?(\d{2}))?$/;function E(t){const e={},n=t.split(h.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],h.timeZoneDelimiter.test(e.date)&&(e.date=t.split(h.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){const s=h.timezone.exec(a);s?(e.time=a.replace(s[1],""),e.timezone=s[1]):e.time=a}return e}function F(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((a[1]||a[2]).length)}}function R(t,e){if(e===null)return new Date(NaN);const n=t.match(W);if(!n)return new Date(NaN);const a=!!n[4],s=f(n[1]),i=f(n[2])-1,c=f(n[3]),l=f(n[4]),g=f(n[5])-1;if(a)return J(e,l,g)?Z(e,l,g):new Date(NaN);{const o=new Date(0);return!H(e,i,c)||!V(e,s)?new Date(NaN):(o.setUTCFullYear(e,i,Math.max(s,c)),o)}}function f(t){return t?parseInt(t):1}function z(t){const e=t.match(Y);if(!e)return NaN;const n=D(e[1]),a=D(e[2]),s=D(e[3]);return L(n,a,s)?n*B+a*T+s*1e3:NaN}function D(t){return t&&parseFloat(t.replace(",","."))||0}function O(t){if(t==="Z")return 0;const e=t.match(A);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return q(a,s)?n*(a*B+s*T):NaN}function Z(t,e,n){const a=new Date(0);a.setUTCFullYear(t,0,4);const s=a.getUTCDay()||7,i=(e-1)*7+n+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const $=[31,null,31,30,31,30,31,31,30,31,30,31];function y(t){return t%400===0||t%4===0&&t%100!==0}function H(t,e,n){return e>=0&&e<=11&&n>=1&&n<=($[e]||(y(t)?29:28))}function V(t,e){return e>=1&&e<=(y(t)?366:365)}function J(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function L(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function q(t,e){return e>=0&&e<=59}const ot=[{header:"No",cell:({row:t})=>r.jsx("span",{className:"font-medium",children:t.index+1})},{accessorKey:"nama_kegiatan",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Nama Kegiatan",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>r.jsx("span",{className:"font-medium",children:t.getValue("nama_kegiatan")})},{accessorKey:"tanggal_mulai",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Tanggal Mulai",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>{const e=t.original;return r.jsx("span",{className:"font-medium",children:k(e.tanggal_mulai)})}},{accessorKey:"tanggal_akhir",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Tanggal Akhir",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>{const e=t.original;return r.jsx("span",{className:"font-medium",children:k(e.tanggal_akhir)})}},{accessorKey:"nama_kecamatan",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Nama Kecamatan",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>{var n;const e=t.original;return r.jsx("span",{className:"font-medium",children:(n=e.kecamatan)==null?void 0:n.nama_kecamatan})}},{accessorKey:"nama_kelurahan",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Nama Kelurahan",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>{var n;const e=t.original;return r.jsx("span",{className:"font-medium",children:(n=e.kelurahan)==null?void 0:n.nama_kelurahan})}},{accessorKey:"rw",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["RW",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>r.jsx("span",{className:"font-medium",children:t.getValue("rw")})},{accessorKey:"rt",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["RT",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>r.jsx("span",{className:"font-medium",children:t.getValue("rt")})},{accessorKey:"status",header:({column:t})=>r.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Status Kegiatan",r.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>{const e=t.original,n=new Date,a=w(e.tanggal_mulai),s=w(e.tanggal_akhir);let i="",c="";return K(n,a)?(i="Belum Berjalan",c="text-yellow-500"):M(n,{start:a,end:s})?(i="Sedang Berjalan",c="text-green-600"):_(n,s)&&(i="Telah Berakhir",c="text-red-500"),r.jsx("span",{className:`font-semibold ${c}`,children:i})}},{header:"Actions",cell:({row:t})=>{const e=t.original;return r.jsxs(I,{children:[r.jsx(b,{asChild:!0,children:r.jsxs(u,{variant:"ghost",className:"h-8 w-8 p-0",children:[r.jsx("span",{className:"sr-only",children:"Open menu"}),r.jsx(U,{className:"h-4 w-4"})]})}),r.jsxs(v,{align:"end",children:[r.jsx(x,{onClick:()=>Q(e.id),children:"Entry Data"}),r.jsx(x,{onClick:()=>P(e.id),children:"Edit"}),r.jsx(x,{onClick:()=>G(e.id),children:"Hapus"})]})]})}}],G=t=>{C.mixin({customClass:{confirmButton:"bg-blue-500",cancelButton:"bg-red-500"},buttonsStyling:!0}).fire({title:"Apa kamu yakin?",text:"Anda akan menghapus data ini!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, hapus!",confirmButtonColor:"#3085d6",cancelButtonText:"Tidak, Batalkan!",reverseButtons:!0}).then(n=>{n.isConfirmed&&N.delete(route("kegiatan.destroy",t),{preserveScroll:!0})})},P=t=>{C.mixin({customClass:{confirmButton:"bg-blue-500",cancelButton:"bg-red-500"},buttonsStyling:!0}).fire({title:"Apa kamu yakin?",text:"Anda akan mengedit data ini!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, edit!",confirmButtonColor:"#3085d6",cancelButtonText:"Tidak, Batalkan!",reverseButtons:!0}).then(n=>{n.isConfirmed&&N.get(route("kegiatan.edit",t),{preserveScroll:!0})})},Q=t=>{N.get(route("kegiatan.absen",t))};export{ot as columns,G as hapusData};
