import{r as d,v as b,j as e}from"./app-B8hkn8ia.js";import{T as j}from"./Template-BSuq2wg2.js";import"./button-BkcFSlZm.js";import"./clsx-B-dksMZM.js";import"./input-Dsx70phq.js";import"./index-CKA_Q9Gm.js";import"./dropdown-menu-DT-iP4Fq.js";import"./createLucideIcon-DqijuJZa.js";function D({kegiatan:t,absenList:r}){const[l,c]=d.useState(!1),{data:o,setData:i,post:m,processing:x,errors:n}=b({nik:"",kegiatan_id:t.id}),h=s=>{s.preventDefault(),m(route("kegiatan.absen.store"),{preserveScroll:!0,onSuccess:()=>{i("nik","")}})};return d.useEffect(()=>{const s=new Date,a=new Date(t.tanggal_mulai),u=new Date(t.tanggal_akhir),p=s<a||s>u;c(p)},[]),e.jsx(j,{title:"Entry Kegiatan",children:e.jsxs("div",{className:"container mx-auto p-3",children:[e.jsxs("h1",{className:"text-xl font-semibold mb-4 flex md:flex-row flex-col",children:["Absen Kegiatan: ",e.jsx("span",{className:"italic text-yellow-500",children:t.nama_kegiatan})]}),e.jsxs("form",{onSubmit:h,className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK Pemilih"}),e.jsx("input",{id:"nik",type:"text",value:o.nik,onChange:s=>i("nik",s.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200 focus:border-blue-500",placeholder:"Masukkan NIK pemilih",autoFocus:!0,required:!0,disabled:l})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:x||l,className:"bg-blue-600 text-white px-5 py-2.5 rounded-md hover:bg-blue-700 transition disabled:opacity-50",children:"Simpan Absen"})})]}),n.nik&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:n.nik})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2",children:"#"}),e.jsx("th",{className:"border p-2",children:"NIK"}),e.jsx("th",{className:"border p-2",children:"Nama"}),e.jsx("th",{className:"border p-2",children:"Waktu Absen"})]})}),e.jsx("tbody",{children:r.length>0?r.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 text-center",children:a+1}),e.jsx("td",{className:"border p-2",children:s.nik}),e.jsx("td",{className:"border p-2",children:s.nama}),e.jsx("td",{className:"border p-2",children:s.waktu})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"border p-4 text-center text-gray-500",children:"Belum ada peserta yang absen"})})})]})})]})})}export{D as default};
