import{v as u,j as e}from"./app-BDRZJ6nl.js";import{T as b}from"./Template-Bb3eVVHj.js";import"./button-BrAl0nvO.js";import"./clsx-B-dksMZM.js";import"./input-ECC4q55f.js";import"./index-lSvDMNRS.js";import"./dropdown-menu-DAiG2u_X.js";import"./createLucideIcon-Cwrl-ZT5.js";function S({kegiatan:a,absenList:t}){const{data:d,setData:r,post:c,processing:o,errors:l}=u({nik:"",kegiatan_id:a.id}),m=s=>{s.preventDefault(),c(route("kegiatan.absen.store"),{preserveScroll:!0,onSuccess:()=>{r("nik","")}})},i=new Date,x=new Date(a.tanggal_mulai),h=new Date(a.tanggal_akhir),n=i<x||i>h;return e.jsx(b,{title:"Entry Kegiatan",children:e.jsxs("div",{className:"container mx-auto p-3",children:[e.jsxs("h1",{className:"text-xl font-semibold mb-4 flex md:flex-row flex-col",children:["Absen Kegiatan: ",e.jsx("span",{className:"italic text-yellow-500",children:a.nama_kegiatan})]}),e.jsxs("form",{onSubmit:m,className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK Pemilih"}),e.jsx("input",{id:"nik",type:"text",value:d.nik,onChange:s=>r("nik",s.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200 focus:border-blue-500",placeholder:"Masukkan NIK pemilih",autoFocus:!0,required:!0,disabled:n})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o||n,className:"bg-blue-600 text-white px-5 py-2.5 rounded-md hover:bg-blue-700 transition disabled:opacity-50",children:"Simpan Absen"})})]}),l.nik&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:l.nik})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2",children:"#"}),e.jsx("th",{className:"border p-2",children:"NIK"}),e.jsx("th",{className:"border p-2",children:"Nama"}),e.jsx("th",{className:"border p-2",children:"Waktu Absen"})]})}),e.jsx("tbody",{children:t.length>0?t.map((s,p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 text-center",children:p+1}),e.jsx("td",{className:"border p-2",children:s.nik}),e.jsx("td",{className:"border p-2",children:s.nama}),e.jsx("td",{className:"border p-2",children:s.waktu})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"border p-4 text-center text-gray-500",children:"Belum ada peserta yang absen"})})})]})})]})})}export{S as default};
