import{v as _,r as s,a as j,j as a}from"./app-BWwkARJw.js";import{T as k}from"./Template-dICpqEwt.js";import{columns as v}from"./Colums-BazOhpkb.js";import f from"./StatistikChartCard--htjEDlt.js";import w from"./StatistikGrid-CLLIlMx0.js";import{DataTable as N}from"./Data-table-j0oCm6EJ.js";import"./button-DkZx2HMc.js";import"./clsx-B-dksMZM.js";import"./input-W2tjz614.js";import"./index-Ch34_Cmp.js";import"./dropdown-menu-Ctve38kJ.js";import"./createLucideIcon-D6oLMVha.js";import"./sweetalert2.esm.all-ComzBDbL.js";import"./index-sFH8vpKN.js";import"./table-CYnrc4YO.js";function q({data:m,filters:l,anggotaDewans:c,kecamatans:u,statistik:n,chart:p,auth:i}){var o;const{get:h,setData:t,data:r}=_({anggota_dewan_id:l.anggota_dewan_id||"",kecamatan_id:l.kecamatan_id||"",kelurahan_id:l.kelurahan_id||"",rt:l.rt||"",rw:l.rw||""}),x=()=>{h(route("laporanpemilih.index"),{preserveState:!0,preserveScroll:!0})},[g,d]=s.useState([]);s.useEffect(()=>{r.kecamatan_id?j.get(route("api.kelurahan"),{params:{kecamatan_id:r.kecamatan_id}}).then(e=>{d(e.data)}):(d([]),t("kelurahan_id",""))},[r.kecamatan_id]);const b=((o=i==null?void 0:i.user)==null?void 0:o.role)==="superadmin";return a.jsx(k,{title:"Laporan Pemilih",children:a.jsxs("div",{className:"container mx-auto p-3",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[b&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anggota Dewan"}),a.jsxs("select",{"aria-label":"anggota_dewan_id",value:r.anggota_dewan_id,onChange:e=>t("anggota_dewan_id",e.target.value),className:"w-full border border-gray-300 p-2 rounded",children:[a.jsx("option",{value:"",children:"-- Pilih Anggota Dewan --"}),c.map(e=>a.jsx("option",{value:e.id,children:e.nama},e.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kecamatan"}),a.jsxs("select",{"aria-label":"kecamatan_id",value:r.kecamatan_id,onChange:e=>t("kecamatan_id",e.target.value),className:"w-full border border-gray-300 p-2 rounded",children:[a.jsx("option",{value:"",children:"-- Pilih Kecamatan --"}),u.map(e=>a.jsx("option",{value:e.id,children:e.nama_kecamatan},e.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kelurahan"}),a.jsxs("select",{"aria-label":"kelurahan_id",value:r.kelurahan_id,onChange:e=>t("kelurahan_id",e.target.value),className:"w-full border border-gray-300 p-2 rounded",children:[a.jsx("option",{value:"",children:"-- Pilih Kelurahan --"}),g.map(e=>a.jsx("option",{value:e.id,children:e.nama_kelurahan},e.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RT"}),a.jsx("input",{type:"text",placeholder:"RT",value:r.rt,onChange:e=>t("rt",e.target.value),className:"w-full border border-gray-300 p-2 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RW"}),a.jsx("input",{type:"text",placeholder:"RW",value:r.rw,onChange:e=>t("rw",e.target.value),className:"w-full border border-gray-300 p-2 rounded"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:x,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition",children:"Tampilkan"})})]}),a.jsx(w,{total_pemilih:n.total_pemilih,total_kecamatan:n.total_kecamatan,total_kelurahan:n.total_kelurahan}),a.jsx(f,{chart:p}),a.jsx(N,{columns:v,data:m})]})})}export{q as default};
